\documentclass[xcolor=table]{beamer}

% Get settings
\usepackage{mybeamer}

% Formalia
\title{ \textbf{Support decision system for diagnosing rare diseases using vector space model and medical text mining}}
\subtitle{{\footnotesize DIKU Bachelorprojekt 2009 -- 2010}\\{\tiny Henrik G. Jensen og Michael Andersen}}
\date{Vinter 2010}

\begin{document}

\begin{frame}
    \titlepage
\end{frame}

\section{Oversigt}

\subsection*{}

%% \begin{frame}

%%     \frametitle{\ }

%%       \begin{itemize}
%% 	  \item Motivation
%% %%	  \item Strukturering af information
%%           \item Midlet
%% 	  \item Resultater
%% 	  \item Fremtidige forbedringer /  udviddelser ??? 
%%       \end{itemize}

%% \end{frame}

% Begin actual slides
% 1

\begin{frame}

  \frametitle{Motivation}

  \visible<1->{
  \begin{block}{Problemet}

    \begin{itemize}
      \item Begr\ae nset tid per patient.
      \item Ukendte symptomer / læge i tvivl.
      \item Sj\ae ldne sygdomme drukner i m\ae ngden af information.
    \end{itemize}
    
  \end{block}
  }

  \visible<2->{
  \begin{block}{Behovet}

    \begin{itemize}
    
      \item System specifikt for sjældne sygdomme.
      \item System til hurtige nemme opslag for lægen i tvivl.
      \item System som er up-to-date og informations-rigt.

    \end{itemize}
    
  \end{block}
  }

\end{frame}

\begin{frame}

  \frametitle{Midlet}

  \begin{block}{L\o sningen, systemet}

    \begin{itemize}

      \item Konstruer speciel database.
      \item V\ae gtning af termer.
      \item Vector space model.
      \item Udregning af score for s\o gning.
      \item Forsl\aa\ top 20 sygdomme.

    \end{itemize}

  \end{block}

\end{frame}

\section{Systemet}

% 1.1
\subsection*{}

\begin{frame}

  \frametitle{Oversigt over systemet:
    \only<1>{Crawler}\only<2>{MedLine}\only<3>{TermDoc}\only<4>{TermDoc
      / DiseaseMatrix}\only<5>{TF-IDF}\only<6>{Heuristikker}\only<7>{Outlier detection}\only<8>{LSA}\only<9>{Yderligere informationskilder}}

  \begin{center}
    \only<1>{\includegraphics[width=1.0\textwidth]{diagram/system_overview1}}
    \only<2>{\includegraphics[width=1.0\textwidth]{diagram/system_overview2}}
    \only<3>{\includegraphics[width=1.0\textwidth]{diagram/system_overview3}}
    \only<4>{\includegraphics[width=1.0\textwidth]{diagram/system_overview4}}
    \only<5>{\includegraphics[width=1.0\textwidth]{diagram/system_overview5}}
    \only<6>{\includegraphics[width=1.0\textwidth]{diagram/system_overview6}}
    \only<7>{\includegraphics[width=1.0\textwidth]{diagram/system_overview7}}
    \only<8>{\includegraphics[width=1.0\textwidth]{diagram/system_overview8}}
    \only<9>{\includegraphics[width=1.0\textwidth]{diagram/system_overview9}}    
  \end{center}

\end{frame}

%% \begin{frame}

%%   \frametitle{Konstruktion af databasen}

%%   Inds\ae t tegning af interaktion mellem vores system og rarediseases, samt vores system og pubmed, endende med Medline Records.

%%   (evt. se figur 2.2 side 17)

%% \end{frame}

\begin{frame}

  \frametitle{Vector space model - Term doc matrix}

  \begin{center}
    \only<1>{\includegraphics[width=0.65\textwidth]{diagram/termdoc1}}
    \only<2>{\includegraphics[width=0.65\textwidth]{diagram/termdoc2}}
  \end{center}

  $d_j$ hvor er en transponeret s\o jle vektor og $t_i$ er en term vektor.

\end{frame}

\begin{frame}

  \frametitle{V\ae gtning af term}

  Log-transformation af ord antallet:

  \[
  x_{dw}^{log} = \log{(1 + x_{dw})}
  \]

  Der bruges TF-IDF til v\ae gtning af termer, dette er for at fremh\ae ve term som sj\ae lendt optr\ae der og nedv\ae gte ofte forekommende ord:

  \[
  x_{dw}^{tfidf} = x_{dw}^{log} \cdot \log{\frac{D}{\sum_{d\prime = 1}^{D}\delta_{d\prime w}}}
  \]

  Afslutningsvis normaliseres dokument vektoren for at sikre de har ens indflydelse p\aa\ s\o geresultatet:

  \[
  x_{dw}^{norm} = \frac{x_{dw}^{tfidf}}{\sqrt{\sum_{w\prime = 1}^{W} {x_{dw}^{tfidf}}^{2}}}
  \]

\end{frame}

\begin{frame}

  \frametitle{Vector space model - Cosine score}

  Udregning af vinkel mellem en symptom liste og et dokument:
  
  \[
  \cos \theta_{D_j} = \frac{Q \circ D_j}{|Q| \cdot |D_j|}
  \]
  
  Ovenst\aa ende svarer til:
  
  \[
  \textrm{score}_{D} = \frac{1}{|I|}\frac{1}{|x_{dw}|} \sum_{i \in I} x_{dw}
  \]
  
  Hvis der p\aa\ forh\aa nd er foretaget normalisering af dokument vektoren:
  
  \[
  \propto  \sum_{i \in I} \widehat{x_{dw}}
  \]
  
\end{frame}

\begin{frame}

  \frametitle{Udregning af score for en sygdom}
  
  $\textrm{disease}_j = \{\textrm{D1}_{s}, \textrm{D2}_{s},
  \textrm{D3}_{s}, \textrm{D4}_{s} \}$

  \begin{itemize}
    \item Cosine ``Mean'' (Sum normaliseret)
      \begin{itemize}
%        \visible<1->\item $ \textrm{disease}_j = \{\textrm{d1}_{score}, \textrm{d2}_{score}, \textrm{d3}_{score}, \textrm{d4}_{score} \} $
        \visible<1->{\item $\textrm{disease}_j = \sum_{D}
          \{\textrm{D1}_{s}, \textrm{D2}_{s}, \textrm{D3}_{s},
          \textrm{D4}_{s} \}$}
%%           \{\textrm{d1}_{score}, \textrm{d2}_{score},
%%           \textrm{d3}_{score}, \textrm{d4}_{score} \}$}
      \end{itemize}
    \item Cosine Median
      \begin{itemize}
        \visible<1->\item $ \textrm{disease}_j =
        \{\textrm{D1}_{s}, \only<1>{\textrm{D2}_{s}}
        \only<2->{\textbf{D2}_{\mathbf{s}}}, \textrm{D3}_{s},
        \textrm{D4}_{s} \}$
      \end{itemize}
    \item Cosine Max
      \begin{itemize}
        \visible<1->\item $ \textrm{disease}_j =
        \{\textrm{D1}_{s}, \textrm{D2}_{s},
        \textrm{D3}_{s}, \only<1-2>{\textrm{D4}_{s}}
        \only<3->{\textbf{D4}_{\mathbf{s}}} \}$
      \end{itemize}
    \item Sum unormaliseret (P\aa\ disease matrix)
      \begin{itemize}
        \item $\textrm{disease}_j = \sum_{i \in I} t_{ji}$
      \end{itemize}
  \end{itemize}

\end{frame}

\section{Resultater}

\subsection*{}

\begin{frame}

  \frametitle{BMJ Resultater}

  \begin{center}
    \includegraphics[width=1.0\textwidth]{diagram/termDoc_bmj_hist_3000_sum_dm_mea_cos_sqrt_td_max_cos_sqrt_td_mea_sum_td}
  \end{center}

\end{frame}

\begin{frame}

  \frametitle{Orpha.net Resultater}

  \begin{center}
    \includegraphics[width=1.0\textwidth]{diagram/termDoc_orphan_hist_3000_sum_dm_mea_cos_sqrt_td_max_cos_sqrt_td_mea_sum_nn_td}
  \end{center}

\end{frame}

\begin{frame}

  \frametitle{Blind tests Resultater}

  \begin{center}
    \includegraphics[width=1.0\textwidth]{diagram/blind_test}
  \end{center}

\end{frame}

\begin{frame}

  \frametitle{Forkerte forslag}

  Hvorfor rammer vi ikke den korrekte sygdom?

  \begin{table}[H]
    \begin{tiny}
      \begin{center}
        \begin{tabular}{|c|c|}
          \hline
          \scriptsize{\textbf{Adrenoleukodystrophy}} & \scriptsize{\textbf{Kleine Levin}} \\
          \hline
          pex26 &lein  \\
          \hline
          pex1 &megaphagia \\
          \hline
          pex13 &hypersomnia\\
          \hline
          pex5 &levin\\
          \hline
          nald &hypersomn\\
          \hline
          pts1 &kl\\
          \hline
          ldpex5 &hypersomniac\\
          \hline
          pex12 &hypersexu \\
          \hline
          pex5p &hypersomnol\\
          \hline
          peroxin&asmp \\
          \hline
          pex10 &narcolepsi\\
          \hline
          zs &hypocretin\\
          \hline
          pbd &mslt \\
          \hline
          pex14 &hyperphagia\\
          \hline
          g843d &pickwickian \\
          \hline
          pex12p &somnol\\
          \hline
          pex1p &ceretec\\
          \hline
          ird &parasomnia\\
          \hline
          pts1r &rem\\
          \hline
          pts2 &smp\\
          \hline
        \end{tabular}
      \end{center}
    \end{tiny}
  \end{table}
  
\end{frame}

\begin{frame}

  \frametitle{Forkerte forslag 2}
  \begin{itemize}
    \item\visible<1->{Sygdommen \emph{Acropectorovertebral dysplasia}'s information er baseret p\aa\ en MedLine Record.}

    \item\visible<2->{Der er brug for mere diversitet i termerne / flere synonymer for symptomer.}

    \item\visible<3->{Informationen er baseret p\aa\ h\o jest 500 MedLine Records.}
  \end{itemize}

\end{frame}

\begin{frame}

  \frametitle{Clustering af resultater}

  \begin{center}
%\includegraphics[width=0.90\textwidth]{diagram/cluster_cat_scratch.jpg}
     \only<1>{\includegraphics[width=0.90\textwidth]{diagram/cluster_cat_scratch.jpg}}
     \only<2>{\includegraphics[width=0.90\textwidth]{diagram/cluster_cat_scratch2.jpg}}
  \end{center}

\end{frame}

\section{Fremtidige muligheder}

\subsection*{}

\begin{frame}

  \frametitle{Udvidelser}

  \begin{itemize}
    \item Statistisk model.
    \item Tilf\o jelse af andre heuristikker.
    \item Keyword extraction fra sygdomme.
    \item Udvidet mulighed for s\o gning, f.eks. sammenligning af s\o
      gninger, boolske operatorer.
  \end{itemize}

\end{frame}

\begin{frame}

  \frametitle{Outlier detection}

  Afstandsmatrix hvor cosine er brugt som afstandsm\aa l. Sidste s\o
  jle beskriver mean distance to others.

%  \begin{multicols}{2}
  \begin{center}
    \begin{tabular}{|l|r|r|r|r|r|}
      \hline
      DM    & D$_1$ & D$_2$ & D$_3$ & D$_4$ & MDTO \\
      \hline
      D$_1$ &   1.0 &   0.3 &   0.7 &   0.8 & 0.7 \\
      \hline
      D$_2$ &   0.3 &   1.0 &   0.5 &   0.6 & 0.6 \\
      \hline
      D$_3$ &   0.7 &   0.5 &   1.0 &   0.3 & 0.625 \\
      \hline
      D$_4$ &   0.8 &   0.6 &   0.3 &   1.0 & 0.675 \\
      \hline
    \end{tabular}
  \end{center}

%  \end{multicols}

  Andre metoder, f.eks. afstand fra middel vektor, K-means
  clustering.

\end{frame}

% 1.2

%% \subsection*{}
%% \begin{frame}

%%   \frametitle{Sjældne sygdomme}

%%   % Evt ledt videre fra 'globalisering'?
%%   \begin{itemize}
%%     \item 
%%     \item
%%   \end{itemize}

%% \end{frame}

\end{document}
